{"$message_type":"diagnostic","message":"unnecessary `if let` since only the `Ok` variant of the iterator element is used","code":{"code":"clippy::manual_flatten","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":6802,"byte_end":7051,"line_start":220,"line_end":226,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\")) {","highlight_start":5,"highlight_end":92},{"text":"        if let Ok(entry) = entry {","highlight_start":1,"highlight_end":35},{"text":"            if let Ok(album) = load_album_info(&entry.path()) {","highlight_start":1,"highlight_end":64},{"text":"                lib.push(album);","highlight_start":1,"highlight_end":33},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    } // idk why tf nvim keeps getting mad at me for this, but im going to pretend there isnt a reason","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"try `.flatten()` and remove the `if let` statement in the for loop","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":6898,"byte_end":7045,"line_start":221,"line_end":225,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        if let Ok(entry) = entry {","highlight_start":9,"highlight_end":35},{"text":"            if let Ok(album) = load_album_info(&entry.path()) {","highlight_start":1,"highlight_end":64},{"text":"                lib.push(album);","highlight_start":1,"highlight_end":33},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_flatten","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::manual_flatten)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":6815,"byte_end":6887,"line_start":220,"line_end":220,"column_start":18,"column_end":90,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\")) {","highlight_start":18,"highlight_end":90}],"label":null,"suggested_replacement":"fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\")).flatten()","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":6806,"byte_end":6811,"line_start":220,"line_end":220,"column_start":9,"column_end":14,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\")) {","highlight_start":9,"highlight_end":14}],"label":null,"suggested_replacement":"entry","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":6888,"byte_end":7051,"line_start":220,"line_end":226,"column_start":91,"column_end":6,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\")) {","highlight_start":91,"highlight_end":92},{"text":"        if let Ok(entry) = entry {","highlight_start":1,"highlight_end":35},{"text":"            if let Ok(album) = load_album_info(&entry.path()) {","highlight_start":1,"highlight_end":64},{"text":"                lib.push(album);","highlight_start":1,"highlight_end":33},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    } // idk why tf nvim keeps getting mad at me for this, but im going to pretend there isnt a reason","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":"{\n        if let Ok(album) = load_album_info(&entry.path()) {\n            lib.push(album);\n        }\n    }","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unnecessary `if let` since only the `Ok` variant of the iterator element is used\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:220:5\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m220\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    for entry in fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\")) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m221\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if let Ok(entry) = entry {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m222\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            if let Ok(album) = load_album_info(&entry.path()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m223\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                lib.push(album);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m226\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    } // idk why tf nvim keeps getting mad at me for this, but im going to pretend there isnt a reason\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|_____^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try `.flatten()` and remove the `if let` statement in the for loop\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:221:9\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m221\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if let Ok(entry) = entry {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m222\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            if let Ok(album) = load_album_info(&entry.path()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m223\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                lib.push(album);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m224\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m225\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|_________^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_flatten\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(clippy::manual_flatten)]` on by default\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m220\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m    for entry in fs::read_dir(music_dir).unwrap_or_else(|_| panic!(\"Failed to read dir\"))\u001b[0m\u001b[0m\u001b[38;5;10m.flatten()\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m{\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m221\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         if let Ok(album) = load_album_info(&entry.path()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m222\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             lib.push(album);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m223\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m224\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~     }\u001b[0m\u001b[0m // idk why tf nvim keeps getting mad at me for this, but im going to pretend there isnt a reason\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this `if` statement can be collapsed","code":{"code":"clippy::collapsible_if","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":6898,"byte_end":7045,"line_start":221,"line_end":225,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        if let Ok(entry) = entry {","highlight_start":9,"highlight_end":35},{"text":"            if let Ok(album) = load_album_info(&entry.path()) {","highlight_start":1,"highlight_end":64},{"text":"                lib.push(album);","highlight_start":1,"highlight_end":33},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::collapsible_if)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"collapse nested if block","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":6922,"byte_end":6924,"line_start":221,"line_end":221,"column_start":33,"column_end":35,"is_primary":true,"text":[{"text":"        if let Ok(entry) = entry {","highlight_start":33,"highlight_end":35}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":7035,"byte_end":7045,"line_start":224,"line_end":225,"column_start":14,"column_end":10,"is_primary":true,"text":[{"text":"            }","highlight_start":14,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":6937,"byte_end":6939,"line_start":222,"line_end":222,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            if let Ok(album) = load_album_info(&entry.path()) {","highlight_start":13,"highlight_end":15}],"label":null,"suggested_replacement":"&&","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: this `if` statement can be collapsed\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:221:9\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m221\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if let Ok(entry) = entry {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m222\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            if let Ok(album) = load_album_info(&entry.path()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m223\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                lib.push(album);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m224\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m225\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|_________^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(clippy::collapsible_if)]` on by default\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: collapse nested if block\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m221\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        if let Ok(entry) = entry\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m222\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m            \u001b[0m\u001b[0m\u001b[38;5;10m&&\u001b[0m\u001b[0m let Ok(album) = load_album_info(&entry.path()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m223\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 lib.push(album);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m224\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m            }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unnecessary `if let` since only the `Ok` variant of the iterator element is used","code":{"code":"clippy::manual_flatten","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":11364,"byte_end":12554,"line_start":340,"line_end":361,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(album_path).unwrap() {","highlight_start":5,"highlight_end":53},{"text":"        if let Ok(entry) = entry {","highlight_start":1,"highlight_end":35},{"text":"            let path = entry.path();","highlight_start":1,"highlight_end":37},{"text":"            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {","highlight_start":1,"highlight_end":75},{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":1,"highlight_end":50},{"text":"                    let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();","highlight_start":1,"highlight_end":96},{"text":"                    let tag = song_file.tag().unwrap();","highlight_start":1,"highlight_end":56},{"text":"                    let duration = song_file.audioproperties().map(|p| p.length()).unwrap_or(0);","highlight_start":1,"highlight_end":97},{"text":"                    let song = Song {","highlight_start":1,"highlight_end":38},{"text":"                        album: tag.album().unwrap_or(\"Unknown Album\".to_string()), // unwrap or is actually a god send","highlight_start":1,"highlight_end":119},{"text":"                        album_artist: tag.artist().unwrap_or(\"Unknown Artist\".to_string()),","highlight_start":1,"highlight_end":92},{"text":"                        path: entry.path(),","highlight_start":1,"highlight_end":44},{"text":"                        title: tag.title().unwrap_or(\"Unknown Title\".to_string()),","highlight_start":1,"highlight_end":83},{"text":"                        duration: (format!(\"{}:{}\", (duration / 60), (duration % 60))),","highlight_start":1,"highlight_end":88},{"text":"                        disk: 1,","highlight_start":1,"highlight_end":33},{"text":"                        track_num: (tag.track().map(|t| t as i16).unwrap_or(0)),","highlight_start":1,"highlight_end":81},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"                    album_contents.push(song);","highlight_start":1,"highlight_end":47},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"try `.flatten()` and remove the `if let` statement in the for loop","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":11421,"byte_end":12548,"line_start":341,"line_end":360,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        if let Ok(entry) = entry {","highlight_start":9,"highlight_end":35},{"text":"            let path = entry.path();","highlight_start":1,"highlight_end":37},{"text":"            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {","highlight_start":1,"highlight_end":75},{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":1,"highlight_end":50},{"text":"                    let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();","highlight_start":1,"highlight_end":96},{"text":"                    let tag = song_file.tag().unwrap();","highlight_start":1,"highlight_end":56},{"text":"                    let duration = song_file.audioproperties().map(|p| p.length()).unwrap_or(0);","highlight_start":1,"highlight_end":97},{"text":"                    let song = Song {","highlight_start":1,"highlight_end":38},{"text":"                        album: tag.album().unwrap_or(\"Unknown Album\".to_string()), // unwrap or is actually a god send","highlight_start":1,"highlight_end":119},{"text":"                        album_artist: tag.artist().unwrap_or(\"Unknown Artist\".to_string()),","highlight_start":1,"highlight_end":92},{"text":"                        path: entry.path(),","highlight_start":1,"highlight_end":44},{"text":"                        title: tag.title().unwrap_or(\"Unknown Title\".to_string()),","highlight_start":1,"highlight_end":83},{"text":"                        duration: (format!(\"{}:{}\", (duration / 60), (duration % 60))),","highlight_start":1,"highlight_end":88},{"text":"                        disk: 1,","highlight_start":1,"highlight_end":33},{"text":"                        track_num: (tag.track().map(|t| t as i16).unwrap_or(0)),","highlight_start":1,"highlight_end":81},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"                    album_contents.push(song);","highlight_start":1,"highlight_end":47},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_flatten","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":11377,"byte_end":11410,"line_start":340,"line_end":340,"column_start":18,"column_end":51,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(album_path).unwrap() {","highlight_start":18,"highlight_end":51}],"label":null,"suggested_replacement":"fs::read_dir(album_path).unwrap().flatten()","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"src/main.rs","byte_start":11368,"byte_end":11373,"line_start":340,"line_end":340,"column_start":9,"column_end":14,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(album_path).unwrap() {","highlight_start":9,"highlight_end":14}],"label":null,"suggested_replacement":"entry","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"src/main.rs","byte_start":11411,"byte_end":12554,"line_start":340,"line_end":361,"column_start":52,"column_end":6,"is_primary":true,"text":[{"text":"    for entry in fs::read_dir(album_path).unwrap() {","highlight_start":52,"highlight_end":53},{"text":"        if let Ok(entry) = entry {","highlight_start":1,"highlight_end":35},{"text":"            let path = entry.path();","highlight_start":1,"highlight_end":37},{"text":"            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {","highlight_start":1,"highlight_end":75},{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":1,"highlight_end":50},{"text":"                    let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();","highlight_start":1,"highlight_end":96},{"text":"                    let tag = song_file.tag().unwrap();","highlight_start":1,"highlight_end":56},{"text":"                    let duration = song_file.audioproperties().map(|p| p.length()).unwrap_or(0);","highlight_start":1,"highlight_end":97},{"text":"                    let song = Song {","highlight_start":1,"highlight_end":38},{"text":"                        album: tag.album().unwrap_or(\"Unknown Album\".to_string()), // unwrap or is actually a god send","highlight_start":1,"highlight_end":119},{"text":"                        album_artist: tag.artist().unwrap_or(\"Unknown Artist\".to_string()),","highlight_start":1,"highlight_end":92},{"text":"                        path: entry.path(),","highlight_start":1,"highlight_end":44},{"text":"                        title: tag.title().unwrap_or(\"Unknown Title\".to_string()),","highlight_start":1,"highlight_end":83},{"text":"                        duration: (format!(\"{}:{}\", (duration / 60), (duration % 60))),","highlight_start":1,"highlight_end":88},{"text":"                        disk: 1,","highlight_start":1,"highlight_end":33},{"text":"                        track_num: (tag.track().map(|t| t as i16).unwrap_or(0)),","highlight_start":1,"highlight_end":81},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"                    album_contents.push(song);","highlight_start":1,"highlight_end":47},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":"{\n        let path = entry.path();\n        if let Some(ext) = path.extension().and_then(|e| e.to_str()) {\n            if ext == \"mp3\" || ext == \"ogg\" {\n                let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();\n                let tag = song_file.tag().unwrap();\n                let duration = song_file.audioproperties().map(|p| p.length()).unwrap_or(0);\n                let song = Song {\n                    album: tag.album().unwrap_or(\"Unknown Album\".to_string()), // unwrap or is actually a god send\n                    album_artist: tag.artist().unwrap_or(\"Unknown Artist\".to_string()),\n                    path: entry.path(),\n                    title: tag.title().unwrap_or(\"Unknown Title\".to_string()),\n                    duration: (format!(\"{}:{}\", (duration / 60), (duration % 60))),\n                    disk: 1,\n                    track_num: (tag.track().map(|t| t as i16).unwrap_or(0)),\n                };\n                album_contents.push(song);\n            }\n        }\n    }","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unnecessary `if let` since only the `Ok` variant of the iterator element is used\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:340:5\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m340\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    for entry in fs::read_dir(album_path).unwrap() {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m341\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if let Ok(entry) = entry {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m342\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            let path = entry.path();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m343\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m361\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|_____^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try `.flatten()` and remove the `if let` statement in the for loop\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:341:9\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m341\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if let Ok(entry) = entry {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m342\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            let path = entry.path();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m343\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m344\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                if ext == \"mp3\" || ext == \"ogg\" {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m360\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;14m|_________^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_flatten\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m340\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m    for entry in fs::read_dir(album_path).unwrap()\u001b[0m\u001b[0m\u001b[38;5;10m.flatten()\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m{\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m341\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         let path = entry.path();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m342\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         if let Some(ext) = path.extension().and_then(|e| e.to_str()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m343\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             if ext == \"mp3\" || ext == \"ogg\" {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m344\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m345\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 let tag = song_file.tag().unwrap();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m346\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 let duration = song_file.audioproperties().map(|p| p.length()).unwrap_or(0);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m347\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 let song = Song {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m348\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     album: tag.album().unwrap_or(\"Unknown Album\".to_string()), // unwrap or is actually a god send\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m349\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     album_artist: tag.artist().unwrap_or(\"Unknown Artist\".to_string()),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m350\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     path: entry.path(),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m351\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     title: tag.title().unwrap_or(\"Unknown Title\".to_string()),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m352\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     duration: (format!(\"{}:{}\", (duration / 60), (duration % 60))),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m353\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     disk: 1,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m354\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                     track_num: (tag.track().map(|t| t as i16).unwrap_or(0)),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m355\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 };\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m356\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 album_contents.push(song);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m357\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m358\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m359\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+     }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this `if` statement can be collapsed","code":{"code":"clippy::collapsible_if","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":11497,"byte_end":12538,"line_start":343,"line_end":359,"column_start":13,"column_end":14,"is_primary":true,"text":[{"text":"            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {","highlight_start":13,"highlight_end":75},{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":1,"highlight_end":50},{"text":"                    let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();","highlight_start":1,"highlight_end":96},{"text":"                    let tag = song_file.tag().unwrap();","highlight_start":1,"highlight_end":56},{"text":"                    let duration = song_file.audioproperties().map(|p| p.length()).unwrap_or(0);","highlight_start":1,"highlight_end":97},{"text":"                    let song = Song {","highlight_start":1,"highlight_end":38},{"text":"                        album: tag.album().unwrap_or(\"Unknown Album\".to_string()), // unwrap or is actually a god send","highlight_start":1,"highlight_end":119},{"text":"                        album_artist: tag.artist().unwrap_or(\"Unknown Artist\".to_string()),","highlight_start":1,"highlight_end":92},{"text":"                        path: entry.path(),","highlight_start":1,"highlight_end":44},{"text":"                        title: tag.title().unwrap_or(\"Unknown Title\".to_string()),","highlight_start":1,"highlight_end":83},{"text":"                        duration: (format!(\"{}:{}\", (duration / 60), (duration % 60))),","highlight_start":1,"highlight_end":88},{"text":"                        disk: 1,","highlight_start":1,"highlight_end":33},{"text":"                        track_num: (tag.track().map(|t| t as i16).unwrap_or(0)),","highlight_start":1,"highlight_end":81},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"                    album_contents.push(song);","highlight_start":1,"highlight_end":47},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"collapse nested if block","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":11557,"byte_end":11559,"line_start":343,"line_end":343,"column_start":73,"column_end":75,"is_primary":true,"text":[{"text":"            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {","highlight_start":73,"highlight_end":75}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":12524,"byte_end":12538,"line_start":358,"line_end":359,"column_start":18,"column_end":14,"is_primary":true,"text":[{"text":"                }","highlight_start":18,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":11576,"byte_end":11578,"line_start":344,"line_end":344,"column_start":17,"column_end":19,"is_primary":true,"text":[{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":17,"highlight_end":19}],"label":null,"suggested_replacement":"&&","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":11579,"byte_end":11579,"line_start":344,"line_end":344,"column_start":20,"column_end":20,"is_primary":true,"text":[{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":20,"highlight_end":20}],"label":null,"suggested_replacement":"(","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/main.rs","byte_start":11607,"byte_end":11607,"line_start":344,"line_end":344,"column_start":48,"column_end":48,"is_primary":true,"text":[{"text":"                if ext == \"mp3\" || ext == \"ogg\" {","highlight_start":48,"highlight_end":48}],"label":null,"suggested_replacement":")","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: this `if` statement can be collapsed\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:343:13\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m343\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m            if let Some(ext) = path.extension().and_then(|e| e.to_str()) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m344\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                if ext == \"mp3\" || ext == \"ogg\" {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m345\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m346\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    let tag = song_file.tag().unwrap();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m359\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33m|_____________^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: collapse nested if block\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m343\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m            if let Some(ext) = path.extension().and_then(|e| e.to_str())\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m344\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m                \u001b[0m\u001b[0m\u001b[38;5;10m&&\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m(\u001b[0m\u001b[0mext == \"mp3\" || ext == \"ogg\"\u001b[0m\u001b[0m\u001b[38;5;10m)\u001b[0m\u001b[0m {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m345\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                     let song_file = taglib::File::new(entry.path().to_str().unwrap()).unwrap();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m357\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                     album_contents.push(song);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m358\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m                }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"4 warnings emitted","code":null,"level":"warning","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: 4 warnings emitted\u001b[0m\n\n"}
